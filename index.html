<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>백엔드_전선미</title>
    <script src="https://kit.fontawesome.com/a9a68f8b3f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="header">
        <!-- 이력서 헤더 : 이름과 타이틀 작성 -->
        <h1>안녕하세요,<br>성장하는 개발자 <b>전선미</b>입니다.</h1>
        <hr>
        백엔드 개발자
        <hr>
      </header>
      <section class="Catchphrase">
      <h3>
        "저는 다양한 환경과 상황에 쉽게 적응하고 항상 긍정적인 태도로 변화를 받아들이는 개발자입니다. <br>변화에 대한 열린 마음과 유연한 사고를 바탕으로 다양한 도전에 대처하며 항상 발전하는 개발자로 성장하고자 합니다."
      </h3>
      </section>
        <article id="mainContent">
        <section class="contact-education-section">
            <div class="column contact-column">
                <h2>CONTACT</h2>
                <p>
                    <i class="fa fa-envelope" aria-hidden="true"></i>
                    <a href="vip30910878@gmail.com">vip30910878@gmail.com</a>
                </p>
                <p>
                    <i class="fa fa-phone" aria-hidden="true"></i>
                    010-3091-0878
                </p>
                <p>
                    <i class="fa fa-blog" aria-hidden="true"></i>
                    <a href="https://fightingway.tistory.com/">Blog</a>
                </p>
                <p>
                    <i class="fa fa-github" aria-hidden="true"></i>
                    <a href="https://github.com/saaut">Github</a>
                </p>   
            </div>
            <div class="column">
                <div class="profile-picture"></div>        
            </div>
        </section>
        
        <section class="education-skills-section">
            <div class="column">
                <h2>EDUCATION</h2>
                <!-- 학력 -->
                <p>계명대학교 - 컴퓨터공학 전공 (2020.02-2024.02) <br> 졸업학점 - 4.09/4.5 </p>
            </div>
            <div class="column">
                <h2>SKILLS</h2>
                <!-- 자신이 잘할 수 있는 분야 -->
                <ul>
                    <li>Java17</li>
                    <li>SpringBoot 3</li>
                    <li>OAuth 2.0</li>
                    <li>AWS Elastic Beanstalk</li>
                    <li>Git&Github</li>
                    <li>HTML</li>
                </ul>
            </div>
        </section>
    </article>
    
    </article>
        <section>
          <section>
            <h1>WORK EXPERIENCE</h1>
            <div class="separator"></div> 
            <h2><a href="https://github.com/saaut/springbootProject_myBlog">개인 프로젝트 - My Blog</a></h2>
            <p>SpringBoot 3 를 이용한 개인 프로젝트입니다.
                웹 애플리케이션의 기본이 되는 게시판 기능을 구현해봄으로써 스프링과 웹 애플리케이션의 전반적인 흐름을 이해하고자 하였습니다.</p>
            <section>
              <h2>주요 기능</h2>
              <ul>
                  <li>CRUD 기능을 갖춘 게시판</li>
                  <li>OAuth2 Google 로그인</li>
                  <li>게시글에 댓글 추가</li>
              </ul>
          </section>
      
          <section>
            <h2>사용된 기술</h2>
            <h4>주요 프레임워크/라이브러리</h4>
            <div class="columns-container">
                <div class="column">
                    <h5>백엔드</h5>
                    <ul>
                        <li>Java17</li>
                        <li>SpringBoot 3</li>
                        <li>JPA</li>
                        <li>OAuth 2.0</li>
                    </ul>
                </div>
                <div class="column">
                    <h4>프론트엔드</h4>
                    <ul>
                        <li>HTML</li>
                        <li>JavaScript</li>
                        <li>Thymeleaf</li>
                    </ul>
                </div>
            </div>
            <div class="columns-container">
                <div class="column">
                    <h4>배포</h4>
                    <ul>
                        <li>AWS Elastic Beanstalk</li>
                    </ul>
                </div>
                <div class="column">
                    <h4>CI/CD</h4>
                    <ul>
                        <li>GitHub Action</li>
                    </ul>
                </div>
            </div>
        </section>
        
      
          <section>
            <h2>실행 화면</h2>
            <div class="images-container">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/bc152d02-1c49-430d-9d6d-8ed60f6646ef" alt="로그인 화면">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/c0b277b6-860c-4502-b117-371a7ebfa270" alt="글 목록">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/868e3d63-2dbc-4afc-b1cd-3e191870a88c" alt="글 조회">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/da908f9d-9580-49d6-a8c6-63f5a8abb299" alt="글 생성">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/901504e9-8e36-40a2-a191-7517f627deca" alt="글 작성 완료">
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/ddefec6c-4ab2-4910-b9dc-d8876b5cf41c" alt="댓글 작성">
            </div>
          </section>
      
          <section>
              <h2>구조 및 디자인</h2>
              <h3>(1) 도메인 설계</h3>
              <div class="images-container">
                <h5>Article</h5>
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/e84fed61-1e84-49d6-876e-92bbe11625d4" alt="Article 도메인 설계">
                <h5>User</h5>
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/b8825ffa-a5ca-4992-b0c8-4bc716c003bd" alt="User 도메인 설계">
                <h5>Comment</h5>
                <img src="https://github.com/saaut/springbootProject_myBlog/assets/109278065/e2327e79-cd9d-449a-ab27-056e0403c5dd" alt="Comment 도메인 설계">
               </div>
          </section>
          <section>
            <h2>트러블 슈팅</h2>
            <h3>문제</h3>
            <p>간편함을 위해 ajax() jQuery 함수를 이용해 비동기 HTTP 요청을 보내려고 했으나, 액세스가 승인되지 않는 인증 문제가 있었습니다..
              {"readyState":4,"responseText":"","status":401,"statusText":"error"}
              오류 메세지를 통해 Http요청은 정상적으로 전송되었으나, status 401로 권한이 없어 정상적으로 로그인된 상태인데도 사용자 인증 정보가 유효하지 않음을 나타냅니다.  
              
              <h3>해결</h3> JQuery 함수를 이용하는 대신 웹 브라우저의 기본 fetch API를 사용하여 직접 Http 요청을 보내는 함수를 만들어 해결할 수 있었습니다.
              <pre class="code-block"><code>function httpRequest(method, url, body, success, fail) {
                alert("success");
            
                fetch(url, {
                    method: method,
                    headers: { // 로컬 스토리지에서 액세스 토큰 값을 가져와 헤더에 추가
                        Authorization: 'Bearer ' + localStorage.getItem('access_token'),
                        'Content-Type': 'application/json',
                    },
                    body: body,
                }).then(response => {
                    if (response.status === 200 || response.status === 201) {
                        return success();
                    }
                    const refresh_token = getCookie('refresh_token');
                    if (response.status === 401 && refresh_token) {
                        fetch('/api/token', {
                            method: 'POST',
                            headers: {
                                Authorization: 'Bearer ' + localStorage.getItem('access_token'),
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                refreshToken: getCookie('refresh_token'),
                            }),
                        })
                            .then(res => {
                                if (res.ok) {
                                    return res.json();
                                }
                            })
                            .then(result => { // 재발급이 성공하면 로컬 스토리지값을 새로운 액세스 토큰으로 교체
                                localStorage.setItem('access_token', result.accessToken);
                                httpRequest(method, url, body, success, fail);
                            })
                            .catch(error => fail());
                    } else {
                        return fail();
                    }
                });
            }</code></pre>
              함수를 이용하여 코드를 축소하고 간편화했으며, 인증 정보 문제가 발생하지 않았습니다.
              <h3>알게된 점</h3>
              이 경험을 통해 ajax와 fetch API 간에 인증 정보 처리 방식이 다르다는 것을 배웠고, fetch API를 사용하면 헤더 및 요청 옵션을 보다 유연하고 세밀하게 제어할 수 있음을 깨달았습니다.</p>
          </section>
          
        </article>
      </main>
</body>
</html>